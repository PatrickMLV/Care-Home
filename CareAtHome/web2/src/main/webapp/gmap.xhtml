<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>GoogleMap test</title>
	<script src="http://maps.google.com/maps/api/js?sensor=false"
		type="text/javascript"></script>
</h:head>

<h:body>

	<h:form>

		<p:growl id="growl" showDetail="true" />

		<p:gmap center="#{mapBean.lat},#{mapBean.lon}" zoom="#{mapBean.zoom}"
			type="HYBRID" model="#{mapBean.simpleModel}"
			style="width:600px;height:400px">
			<p:ajax event="overlaySelect" listener="#{mapBean.onMarkerSelect}"
				update="growl" />

		</p:gmap>
		<br />
		centerLat : 
		<h:outputText value="#{mapBean.lat}"></h:outputText>
		<br />
		centerLong:
		<h:outputText value="#{mapBean.lon}"></h:outputText>
		<br />
		<br />
		<br />

		<p:commandButton type="button" icon="ui-icon-pin-s" value="Show Map"
			onclick="dlg.show()" />

		<p:dialog widgetVar="dlg" width="625" height="400" modal="true">

			<p:gmap center="#{mapBean.lat},#{mapBean.lon}" zoom="#{mapBean.zoom}"
				type="HYBRID" model="#{mapBean.simpleModel}"
				style="width:600px;height:400px">
				<p:ajax event="overlaySelect" listener="#{mapBean.onMarkerSelect}"
					update="growl" />
			</p:gmap>
		</p:dialog>

		<br />
		<br />


		<h:form>

			<p:dataTable id="dataTable" var="user" value="#{mapBean.users}">
				<f:facet name="header">  
         		   Liste des adresses 
       			 </f:facet>

				<p:column sortBy="#{user.name}" headerText="Nom">
					<h:outputText value="#{user.name}" />
				</p:column>
				<p:column sortBy="#{user.surname}" headerText="PrÃ©nom">
					<h:outputText value="#{user.surname}" />
				</p:column>
				<p:column sortBy="#{user.adress}" headerText="Adresse">
					<h:outputText value="#{user.adress}" />
				</p:column>
				<p:column sortBy="#{user.phoneNumber}" headerText="Tel">
					<h:outputText value="#{user.phoneNumber}" />
				</p:column>
			</p:dataTable>

		</h:form>
		<br />



	</h:form>


</h:body>
</html>

